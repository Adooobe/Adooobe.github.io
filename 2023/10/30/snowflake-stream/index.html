<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Snowflake CDC VS Hudi CDC · Finch's Blog</title><meta name="description" content="Snowflake CDC VS Hudi CDC - Finchxia"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://Adooobe.github.io/atom.xml" title="Finch's Blog"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Finch's Blog" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/Adooobe" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="https://www.xiaohongshu.com/user/profile/578ae95d82ec396a701d61d7?channelType=web_engagement_notification_page&amp;channelTabId=mentions" target="_blank" class="nav-list-link">RED</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Snowflake CDC VS Hudi CDC</h1><div class="post-info">Oct 30, 2023</div><div class="post-content"><h2 id="Batch-vs-Streaming"><a href="#Batch-vs-Streaming" class="headerlink" title="Batch vs. Streaming"></a>Batch vs. Streaming</h2><p>Batch and streaming are different ways to treat data transformation. We usually talk about <code>Flow-Batch integration</code> artitechture but I have not seen any applications which can do self-adaption batch or streaming operation in the same semantic and I totally agree the point of view proposed by <a target="_blank" rel="noopener" href="https://dl.acm.org/doi/pdf/10.1145/3589776">this article</a>.</p>
<blockquote>
<p>batch systems process input datasets in their entirety to produce new output datasets in their entirety.</p>
<p>streaming systems process the changes to input datasets over time to incrementally evolve their corresponding outputs over time.</p>
</blockquote>
<p>In my opinion, streaming systems combine the data and time semantic but batch systems only concerns about data. It leads to a new physical concept: <code>changes</code>. In Snowflake, <code>Streams</code> are based on <code>changes</code> which capture the changes to a dataset over time.</p>
<h2 id="MySQL-redo-log"><a href="#MySQL-redo-log" class="headerlink" title="MySQL redo log"></a>MySQL redo log</h2><p>Firstly, let us talk about what is redo log and why we need redo log.</p>
<p>In mySQL design, to avoid disk operation each DML and load data from disk each query statement, there is a <code>buffer pool</code> to reduce disk I/O and mySQL will query the adjacent data of aiming data, then put them into buffer pool as one page.</p>
<p>However, when we make changes to the data in the buffer pool, the buffer pool does not immediately flush data into disk, resulting in inconsistency between the data in the buffer pool and the data on the disk. It is called a dirty page. If MySQL crashed when dirty page happened, ACID was destroyed.</p>
<p><img src="/2023/10/30/snowflake-stream/buffer_pool.png#pic_center" alt="buffer pool"></p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>d</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://dl.acm.org/doi/pdf/10.1145/3589776">https://dl.acm.org/doi/pdf/10.1145/3589776</a></li>
<li><a target="_blank" rel="noopener" href="https://15445.courses.cs.cmu.edu/fall2021/notes/05-bufferpool.pdf">https://15445.courses.cs.cmu.edu/fall2021/notes/05-bufferpool.pdf</a></li>
</ol>
</div></article></div></main><footer><div class="paginator"><a href="/2023/12/21/mysql-cdc/" class="prev">PREV</a><a href="/2023/10/23/hudi-cdc/" class="next">NEXT</a></div><div class="copyright"><p>For yyh, foul-weather and lovely friend</p><p>© 2023 <a href="https://Adooobe.github.io">Finchxia</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>